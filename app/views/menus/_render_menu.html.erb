<% @menus.each do |m| %>
  <div class="card col-4 px-0 m-1 min-width-25" style="min-width: 66px;">
    <div class="card-header d-flex px-3 justify-content-between align-center">
      <h5 class=" d-block card-title mt-2 "><%= m.date %></h5>
      <span class="d-flex"><%= link_to 'ℹ️', m, class:"btn px-1" %>
         <%= button_to "❌", m, method: :delete, class:"btn px-1"%>
         <%= link_to "⚙️", edit_menu_path(m[:id]), class:"btn px-1"%>
      </span>
    </div>
    <div class="card-body justify-content-between">
      <div class=" gap-2" >

        <% acc = [] %>
        <% m.dishes.reject!(&:empty?).each do |idx| %>
          <% dish = @dishes.find(idx)%>
          <% acc << dish %>
        <% end %>

        <% acc = acc.group_by{ |d| d[:category_id]} %>
        <% acc.each  do |key, val| %>
          <ul class="list-group">
            <span class="fw-bold text-center my-2">  <%= @categories.find(key).category %>s </span>
            <% val.each do |dish| %>
              <li class="list-group-item d-flex justify-content-between" >
              <%= dish[:name] %>
                <span>
                  <%= render_dish_type(dish[:price])  %>  /  <%= dish[:price] %>
                </span>
              </li>
            <% end %>
          </ul>
        <% end %>
      </div>
    </div>
  </div>

<% end %>




<!--[nil, [#<Dish id: 1, name: "Margarita", category_id: 1, price_type: "By Item", price: 222, created_at: "2022-07-12 17:39:26", updated_at: "2022-07-12 17:39:26">]]-->